(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2901],{6667:function(e,t,s){Promise.resolve().then(s.bind(s,59653))},59653:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var d=s(57437),a=s(2265);let r=(0,s(63887).eI)("https://dummy.supabase.co","dummy_key_here_for_build");function l(){let[e,t]=a.useState([]),[s,l]=a.useState(!0);a.useEffect(()=>{(async()=>{l(!0);let{data:e,error:s}=await r.from("hazards").select("id,type,title,detected_at,status").order("detected_at",{ascending:!1}).limit(100);s||t(null!=e?e:[]),l(!1)})()},[]);let n=async(e,s)=>{let{error:d}=await r.from("hazards").update({status:s}).eq("id",e);d||t(t=>t.map(t=>t.id===e?{...t,status:s}:t))};return(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Hazard Moderation"}),s?(0,d.jsx)("div",{className:"opacity-60 text-sm",children:"Loading…"}):(0,d.jsxs)("table",{className:"w-full text-sm",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"text-left opacity-60",children:[(0,d.jsx)("th",{className:"py-2",children:"Title"}),(0,d.jsx)("th",{children:"Type"}),(0,d.jsx)("th",{children:"Detected"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Label"})]})}),(0,d.jsx)("tbody",{children:e.map(e=>{var t,s;return(0,d.jsxs)("tr",{className:"border-t",children:[(0,d.jsx)("td",{className:"py-2",children:null!==(t=e.title)&&void 0!==t?t:e.id}),(0,d.jsx)("td",{children:e.type}),(0,d.jsx)("td",{children:new Date(e.detected_at).toLocaleString()}),(0,d.jsx)("td",{children:null!==(s=e.status)&&void 0!==s?s:"—"}),(0,d.jsxs)("td",{className:"space-x-2",children:[(0,d.jsx)("button",{className:"px-2 py-1 rounded bg-green-50 border border-green-200",onClick:()=>n(e.id,"true"),children:"True"}),(0,d.jsx)("button",{className:"px-2 py-1 rounded bg-red-50 border border-red-200",onClick:()=>n(e.id,"false"),children:"False"})]})]},e.id)})})]})]})}}},function(e){e.O(0,[3887,2971,2117,1744],function(){return e(e.s=6667)}),_N_E=e.O()}]);