"use strict";exports.id=6791,exports.ids=[6791],exports.modules={56249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},83143:(e,t,s)=>{s.a(e,async(e,n)=>{try{s.d(t,{Z:()=>f});var i=s(52513),a=s(17811),r=s(19168),o=s(10401),h=s(47129),c=s(96111),l=s(73214),u=s(41287),d=e([a]);a=(d.then?(await d)():d)[0];class f{constructor(e,t,s){var n,i,r;this.supabaseUrl=e,this.supabaseKey=t;let u=(0,l.r5)(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);let d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:h.YB,realtime:h.fw,auth:Object.assign(Object.assign({},h.E9),{storageKey:d}),global:h.SU},p=(0,l.PQ)(null!=s?s:{},f);this.storageKey=null!==(n=p.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(i=p.global.headers)&&void 0!==i?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(r=p.auth)&&void 0!==r?r:{},this.headers,p.global.fetch),this.fetch=(0,c.ri)(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new a.PostgrestClient(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,null==s?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,s,n,i,a;return s=this,n=void 0,i=void 0,a=function*(){if(this.accessToken)return yield this.accessToken();let{data:s}=yield this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey},new(i||(i=Promise))(function(e,t){function r(e){try{h(a.next(e))}catch(e){t(e)}}function o(e){try{h(a.throw(e))}catch(e){t(e)}}function h(t){var s;t.done?e(t.value):((s=t.value)instanceof i?s:new i(function(e){e(s)})).then(r,o)}h((a=a.apply(s,n||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:a,flowType:r,lock:o,debug:h},c,l){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.$({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:i,flowType:r,lock:o,debug:h,fetch:l,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}n()}catch(e){n(e)}})},4864:(e,t,s)=>{s.a(e,async(e,n)=>{try{s.d(t,{createClient:()=>o});var i=s(83143);s(13688);var a=s(17811);s(52513),s(19168);var r=e([a,i]);[a,i]=r.then?(await r)():r;let o=(e,t,s)=>new i.Z(e,t,s);(function(){if("undefined"==typeof process)return!1;let e=process.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)})()&&console.warn(`⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`),n()}catch(e){n(e)}})},41287:(e,t,s)=>{s.d(t,{$:()=>i});var n=s(13688);class i extends n.AuthClient{constructor(e){super(e)}}},47129:(e,t,s)=>{s.d(t,{E9:()=>r,YB:()=>a,SU:()=>i,fw:()=>o});let n="";"undefined"!=typeof Deno?n="deno":"undefined"!=typeof document?n="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?n="react-native":n="node";let i={headers:{"X-Client-Info":`supabase-js-${n}/2.58.0`}},a={schema:"public"},r={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o={}},96111:(e,t,s)=>{s.d(t,{ri:()=>o});var n=s(41180),i=s.n(n);let a=e=>{let t;return e?t=e:"undefined"==typeof fetch?t=i():t=fetch,(...e)=>t(...e)},r=()=>"undefined"==typeof Headers?n.Headers:Headers,o=(e,t,s)=>{let n=a(s),i=r();return(s,a)=>(function(e,t,s,n){return new(s||(s=Promise))(function(i,a){function r(e){try{h(n.next(e))}catch(e){a(e)}}function o(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){var t;e.done?i(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}h((n=n.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){var r;let o=null!==(r=yield t())&&void 0!==r?r:e,h=new i(null==a?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${o}`),n(s,Object.assign(Object.assign({},a),{headers:h}))})}},73214:(e,t,s)=>{function n(e,t){var s,n;let{db:i,auth:a,realtime:r,global:o}=e,{db:h,auth:c,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},l),r),storage:{},global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(s=null==u?void 0:u.headers)&&void 0!==s?s:{}),null!==(n=null==o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>{var e,t,s,n;return e=this,t=void 0,n=function*(){return""},new(s=void 0,s=Promise)(function(i,a){function r(e){try{h(n.next(e))}catch(e){a(e)}}function o(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){var t;e.done?i(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}h((n=n.apply(e,t||[])).next())})}};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function i(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}s.d(t,{PQ:()=>n,r5:()=>i})},47153:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},71802:(e,t,s)=>{e.exports=s(20145)}};