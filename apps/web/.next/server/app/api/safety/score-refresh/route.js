"use strict";(()=>{var e={};e.id=6235,e.ids=[6235],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},91565:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>x,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var t={};s.r(t),s.d(t,{POST:()=>p});var o=s(49303),a=s(88716),u=s(60670),n=s(87070),i=s(94738);async function p(e){let r=crypto.randomUUID();try{let e=function(e){let r="https://dummy.supabase.co",s="dummy_key_here_for_build";return r&&s?(0,i.eI)(r,s,{global:{headers:{"x-request-id":e}}}):null}(r);if(!e)return n.NextResponse.json({error:{status:500,code:"env_missing",message:"Supabase env not set",requestId:r}},{status:500,headers:{"x-request-id":r}});let{data:s,error:t,status:o}=await e.rpc("refresh_safety_scores");if(t)return n.NextResponse.json({error:{status:o??500,code:t.code,message:t.message??"Failed to refresh",requestId:r}},{status:o??500,headers:{"x-request-id":r}});let a="number"==typeof s?s:s?.count??null;return n.NextResponse.json({ok:!0,count_updated:a,requestId:r},{status:200,headers:{"x-request-id":r}})}catch(e){return n.NextResponse.json({error:{status:500,code:e?.code??"unknown",message:e?.message??"Unexpected error",requestId:r}},{status:500,headers:{"x-request-id":r}})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/safety/score-refresh/route",pathname:"/api/safety/score-refresh",filename:"route",bundlePath:"app/api/safety/score-refresh/route"},resolvedPagePath:"C:\\Users\\moise\\IdeaProjects\\truckercore1\\apps\\web\\src\\app\\api\\safety\\score-refresh\\route.ts",nextConfigOutput:"standalone",userland:t}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:h}=d,x="/api/safety/score-refresh/route";function m(){return(0,u.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,5972,4738],()=>s(91565));module.exports=t})();